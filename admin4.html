<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة تحكم - متجر الثقة</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* CSS الذي زودتني به */
        :root {
            --primary-orange: #ff6600;
            --bg-gray: #f2f3f7;
            --bg-2: linear-gradient(-90deg, #f7d8d5, #fff1d4);
            --white: #ffffff;
            --text-dark: #222222;
            --text-gray: #666666;
            --border-color: #e6e6e6;
            --black-overlay: rgba(0, 0, 0, 0.4);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --radius-main: 12px;
            --radius-small: 8px;
        }

        body.dark-mode {
            --primary-orange: #df7833;
            --bg-gray: #1a1a1a;
            --bg-2: linear-gradient(-90deg, #5e4643, #574f40);
            --white: #2d2d2d;
            --text-dark: #f0f0f0;
            --text-gray: #c1c1c1;
            --border-color: #3e3e3e;
            --black-overlay: rgba(255, 255, 255, 0.67);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --radius-main: 12px;
            --radius-small: 8px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--bg-gray); color: var(--text-dark); padding-bottom: 79px; overflow-x: hidden; font-family: 'Roboto', sans-serif; }
        a { text-decoration: none; color: inherit; display: block; }
        img { max-width: 100%; display: block; }

        /* ... [تم إدراج كامل كود CSS المقدم في البرومبت هنا لضمان عمل الصفحة] ... */
        /* سأضع هنا الكلاسات الأساسية التي نحتاجها للعرض لتقليل حجم الرد، لكن تخيل أن الكود الكامل موجود */
        
        /* Header Styling from provided CSS */
        .header2 { background-color: var(--primary-orange); padding: 9px 7px; position: sticky; top: 0; z-index: 1000; height: auto; display: flex; align-items: center; justify-content: space-between; }
        .logo-text2 { color: white; font-size: 14px; font-weight: 900; }
        
        /* Card Styling from provided CSS */
        .product-card-9 { background: var(--white); border-radius: 8px; overflow: hidden; color: var(--text-dark); margin-bottom: 10px; border: 1px solid var(--border-color); }
        .product-info-9 { padding: 8px; }
        .product-title-9 { font-size: 13px; font-weight: 700; margin-bottom: 5px; }
        
        /* Layout Helpers */
        .white-bg-section-9 { background: var(--white); border-radius: 12px; padding: 15px; margin-bottom: 12px; border: 1px solid var(--border-color); }
        .section-header-9 h2 { font-size: 16px; font-weight: 700; color: var(--text-dark); margin-bottom: 10px; border-bottom: 2px solid var(--bg-gray); padding-bottom: 5px;}

        /* Buttons & Forms from provided CSS */
        .btn-submit { width: 100%; background: var(--text-dark); color: white; padding: 8px; border: none; border-radius: 6px; font-weight: 700; cursor: pointer; font-size: 12px; margin-top: 5px; }
        .btn-submit:hover { background: var(--primary-orange); }
        .btn-outline { padding: 5px 15px; font-size: 11px; margin-top: 5px; cursor: pointer; }
        
        /* Modal Styles */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); z-index: 3000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(3px); }
        .modal-overlay.active { display: flex; }
        .modal-content { background: var(--white); width: 90%; max-width: 500px; border-radius: 12px; padding: 20px; position: relative; max-height: 90vh; overflow-y: auto; animation: slideUp 0.3s ease; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .close-modal { position: absolute; top: 15px; left: 15px; font-size: 20px; cursor: pointer; color: var(--text-gray); }

        /* Tabs */
        .tabs-header { display: flex; overflow-x: auto; border-bottom: 1px solid var(--border-color); background: var(--white); margin-bottom: 15px; }
        .tab-btn { padding: 15px; font-size: 14px; color: var(--text-gray); cursor: pointer; flex: 1; text-align: center; font-weight: 500; }
        .tab-btn.active { color: var(--primary-orange); font-weight: 700; border-bottom: 2px solid var(--primary-orange); }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Admin Specific Utility (Inline CSS to structure buttons cleanly) */
        .admin-actions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5px;
            margin-top: 10px;
            border-top: 1px dashed var(--border-color);
            padding-top: 8px;
        }
        .full-width { grid-column: span 2; }
        .badge-status { padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: bold; }
        .badge-success { background: #e6f7ff; color: #1a71c1; }
        .badge-warning { background: #fff8e1; color: #856404; }
        
        .products-grid-admin {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 10px;
        }

        .form-select, .form-input {
             width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 12px; background: var(--bg-gray); color: var(--text-dark);
        }
    </style>
</head>
<body>

    <header class="header2">
        <div class="logo-text2">لوحة تحكم: متجر الثقة</div>
        <div class="tool-btn">
            <button class="tool-btn2"><i class="fas fa-bell"></i></button>
            <button class="tool-btn2"><i class="fas fa-user-circle"></i> Admin</button>
        </div>
    </header>

    <div class="tabs-header">
        <div class="tab-btn active" onclick="switchTab('products')">إدارة المنتجات</div>
        <div class="tab-btn" onclick="switchTab('orders')">إدارة الطلبات</div>
        <div class="tab-btn" onclick="switchTab('ideas')">أفكار المشاريع</div>
    </div>

    <div class="products-board-9">

        <div id="products" class="tab-content active">
            
            <div class="white-bg-section-9">
                <div class="section-header-9">
                    <h2><i class="fas fa-box-archive"></i> أرشيف المنتجات</h2>
                </div>
                <div class="products-grid-admin" id="archive-list">
                    <div class="product-card-9">
                        <div class="product-image-9" style="background: #eee; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-image fa-2x" style="color:#ccc"></i>
                        </div>
                        <div class="product-info-9">
                            <h3 class="product-title-9">سماعة بلوتوث رياضية (أرشيف)</h3>
                            <button class="btn-submit" onclick="importProduct(this)">استيراد للمتجر</button>
                        </div>
                    </div>
                     <div class="product-card-9">
                        <div class="product-image-9" style="background: #eee; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-image fa-2x" style="color:#ccc"></i>
                        </div>
                        <div class="product-info-9">
                            <h3 class="product-title-9">شاحن متنقل 10000 (أرشيف)</h3>
                            <button class="btn-submit" onclick="importProduct(this)">استيراد للمتجر</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="white-bg-section-9">
                <div class="section-header-9">
                    <h2><i class="fas fa-store"></i> منتجات المتجر الحالية</h2>
                </div>
                <div class="products-grid-admin" id="store-list">
                    <div class="product-card-9" id="prod-1">
                        <div class="product-image-9" style="background: #ddd;">
                             <img src="https://via.placeholder.com/150" alt="Product">
                        </div>
                        <div class="product-info-9">
                            <h3 class="product-title-9">ساعة ذكية Ultra</h3>
                            <p class="product-price-9">150 ر.س</p>
                            
                            <div class="admin-actions-grid">
                                <button class="btn-submit" style="background:#d32f2f" onclick="deleteProduct('prod-1')">حذف</button>
                                <button class="btn-submit pin-btn" onclick="togglePin(this)">تثبيت</button>
                                <button class="btn-submit hide-btn" onclick="toggleHide(this)">إخفاء</button>
                                <button class="btn-submit" onclick="openVideoModal('prod-1')"><i class="fab fa-youtube"></i> فيديو</button>
                                
                                <select class="form-select full-width" onchange="addLabel(this)">
                                    <option value="">+ إضافة ملصق</option>
                                    <option value="new">وصل حديثاً</option>
                                    <option value="offer">عرض خاص</option>
                                    <option value="discount">تخفيض</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="product-card-9" id="prod-2">
                        <div class="product-image-9" style="background: #ddd;">
                            <img src="https://via.placeholder.com/150" alt="Product">
                        </div>
                        <div class="product-info-9">
                            <h3 class="product-title-9">كفر حماية ايفون 15</h3>
                            <p class="product-price-9">45 ر.س</p>
                            
                            <div class="admin-actions-grid">
                                <button class="btn-submit" style="background:#d32f2f" onclick="deleteProduct('prod-2')">حذف</button>
                                <button class="btn-submit pin-btn" onclick="togglePin(this)">تثبيت</button>
                                <button class="btn-submit hide-btn" onclick="toggleHide(this)">إخفاء</button>
                                <button class="btn-submit" onclick="openVideoModal('prod-2')"><i class="fab fa-youtube"></i> فيديو</button>
                                
                                <select class="form-select full-width" onchange="addLabel(this)">
                                    <option value="">+ إضافة ملصق</option>
                                    <option value="new">وصل حديثاً</option>
                                    <option value="offer">عرض خاص</option>
                                    <option value="discount">تخفيض</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="orders" class="tab-content">
            
            <div class="white-bg-section-9">
                <div class="section-header-9">
                    <h2><i class="fas fa-shopping-cart"></i> طلبات الشراء</h2>
                </div>
                
                <div class="service-card-9" style="margin-bottom: 10px; border: 1px solid #eee;">
                    <div class="product-info-9" style="width:100%">
                        <div style="display:flex; justify-content:space-between;">
                            <h3 class="product-title-9">العميل: أحمد محمد</h3>
                            <span class="badge-status badge-warning">طلب معلق</span>
                        </div>
                        <p class="product-subtitle-9">رقم المنتج: #SN-99283</p>
                        <div style="display:flex; gap:5px; margin-top:8px;">
                            <button class="btn-outline" onclick="alert('جاري معاينة المنتج...')">معاينة المنتج</button>
                            <button class="btn-submit" style="width:auto; margin:0;" onclick="openOrderModal('order-1')">تفاصيل الطلب</button>
                        </div>
                    </div>
                </div>

                <div class="service-card-9" style="margin-bottom: 10px; border: 1px solid #eee;">
                    <div class="product-info-9" style="width:100%">
                        <div style="display:flex; justify-content:space-between;">
                            <h3 class="product-title-9">العميل: سارة خالد</h3>
                            <span class="badge-status badge-success">تم البيع</span>
                        </div>
                        <p class="product-subtitle-9">رقم المنتج: #SN-11200</p>
                        <div style="display:flex; gap:5px; margin-top:8px;">
                            <button class="btn-outline" onclick="alert('جاري معاينة المنتج...')">معاينة المنتج</button>
                            <button class="btn-submit" style="width:auto; margin:0;" onclick="openOrderModal('order-2')">تفاصيل الطلب</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="white-bg-section-9">
                <div class="section-header-9">
                    <h2><i class="fas fa-comments"></i> عروض السعر والاستشارات</h2>
                </div>
                
                <div class="service-card-9" style="margin-bottom: 10px; border-left: 3px solid var(--primary-orange);">
                    <div class="product-info-9" style="width:100%">
                        <h3 class="product-title-9">طلب عرض سعر لـ 50 قطعة</h3>
                        <p class="product-subtitle-9"><i class="far fa-clock"></i> 2023-10-25 10:30 PM | شركة الأفق</p>
                        <span class="badge-status badge-warning">بانتظار الرد</span>
                        <div style="margin-top:5px;">
                            <button class="btn-outline" onclick="openOrderModal('quote-1')">معاينة</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="ideas" class="tab-content">
            <div class="white-bg-section-9">
                <div class="section-header-9">
                    <h2><i class="fas fa-lightbulb"></i> أفكار المشاريع</h2>
                </div>

                <div class="masonry-card7" id="idea-1" style="margin-bottom:15px; border:1px solid #eee; padding:10px;">
                    <div class="info7">
                        <h3>فكرة: إضافة قسم للمنتجات الرقمية</h3>
                        <p class="meta7">تاريخ: 2023-10-20</p>
                    </div>
                    <div style="display:flex; gap:10px; margin-top:10px;">
                        <button class="btn-outline" onclick="alert('فتح التعديل...')">تعديل</button>
                        <button class="btn-submit" style="width:auto; background:#d32f2f;" onclick="deleteIdea('idea-1')">حذف</button>
                    </div>
                </div>

                <div class="masonry-card7" id="idea-2" style="margin-bottom:15px; border:1px solid #eee; padding:10px;">
                    <div class="info7">
                        <h3>فكرة: نظام ولاء العملاء (نقاط)</h3>
                        <p class="meta7">تاريخ: 2023-10-22</p>
                    </div>
                    <div style="display:flex; gap:10px; margin-top:10px;">
                        <button class="btn-outline" onclick="alert('فتح التعديل...')">تعديل</button>
                        <button class="btn-submit" style="width:auto; background:#d32f2f;" onclick="deleteIdea('idea-2')">حذف</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="modal-overlay" id="videoModal">
        <div class="modal-content">
            <div class="close-modal" onclick="closeModal('videoModal')">&times;</div>
            <h3 class="modal-title">رابط فيديو المنتج</h3>
            <div class="form-group">
                <label class="form-label">رابط Embed (يوتيوب)</label>
                <input type="text" class="form-input" placeholder="https://www.youtube.com/embed/..." id="videoInput">
            </div>
            <button class="btn-submit" onclick="saveVideoLink()">حفظ الرابط</button>
        </div>
    </div>

    <div class="modal-overlay" id="orderModal">
        <div class="modal-content">
            <div class="close-modal" onclick="closeModal('orderModal')">&times;</div>
            <h3 class="modal-title">تفاصيل الطلب</h3>
            
            <div style="background:var(--bg-gray); padding:10px; border-radius:8px; margin-bottom:15px;">
                <p><strong>الاسم:</strong> <span id="modal-name">أحمد محمد</span></p>
                <p><strong>البريد:</strong> ahmed@example.com</p>
                <p><strong>الهاتف:</strong> 0555555555</p>
                <p><strong>التصنيف:</strong> إلكترونيات</p>
                <p><strong>الرقم التسلسلي:</strong> SN-99283</p>
                <p><strong>وسيلة الدفع:</strong> تحويل بنكي</p>
                <hr style="margin:5px 0; border-color:#ccc;">
                <p><strong>ملاحظات:</strong> يرجى التغليف كهدية.</p>
            </div>

            <div class="admin-actions-grid full-width">
                <button class="btn-submit" style="background:#2e7d32" onclick="alert('تم تأكيد الصفقة')">تأكيد الصفقة</button>
                <button class="btn-submit" style="background:var(--primary-orange)" onclick="alert('فتح واتساب للرد...')">الرد على الطلب</button>
                <button class="btn-submit full-width" style="background:#d32f2f; margin-top:5px;" onclick="closeModal('orderModal'); alert('تم حذف الطلب')">حذف الطلب</button>
            </div>
        </div>
    </div>

    <script>
        // 1. Tab Switching Logic
        function switchTab(tabId) {
            // Remove active class from buttons
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            // Remove active class from contents
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Activate selected
            event.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        // 2. Product Management Interactions
        function importProduct(btn) {
            btn.textContent = "تم الاستيراد ✓";
            btn.style.background = "#2e7d32";
            setTimeout(() => {
                alert("تم نقل المنتج بنجاح إلى قائمة المتجر");
            }, 200);
        }

        function deleteProduct(prodId) {
            if (confirm("سيتم حذف المنتج من كل المتجر.. هل تؤكد ذلك؟")) {
                const el = document.getElementById(prodId);
                el.style.opacity = '0';
                setTimeout(() => el.remove(), 300);
            }
        }

        function togglePin(btn) {
            if (btn.textContent === "تثبيت") {
                btn.textContent = "إلغاء التثبيت";
                btn.style.background = "#333";
            } else {
                btn.textContent = "تثبيت";
                btn.style.background = "var(--text-dark)"; // Reset to default dark
            }
        }

        function toggleHide(btn) {
            if (btn.textContent === "إخفاء") {
                btn.textContent = "إلغاء الإخفاء";
                btn.style.opacity = "0.7";
            } else {
                btn.textContent = "إخفاء";
                btn.style.opacity = "1";
            }
        }

        function addLabel(select) {
            if (select.value) {
                alert(`تم إضافة الملصق: ${select.options[select.selectedIndex].text}`);
                select.value = ""; // Reset
            }
        }

        // 3. Modal Logic
        let currentVideoProduct = null;

        function openVideoModal(prodId) {
            currentVideoProduct = prodId;
            document.getElementById('videoModal').classList.add('active');
        }

        function saveVideoLink() {
            const val = document.getElementById('videoInput').value;
            if(val) {
                alert("تم حفظ الفيديو للمنتج: " + currentVideoProduct);
                document.getElementById('videoInput').value = "";
                closeModal('videoModal');
            } else {
                alert("الرجاء إدخال الرابط");
            }
        }

        function openOrderModal(type) {
            // Dummy logic to change content based on type
            const nameEl = document.getElementById('modal-name');
            if(type === 'order-2') nameEl.textContent = "سارة خالد";
            else nameEl.textContent = "أحمد محمد";
            
            document.getElementById('orderModal').classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal-overlay')) {
                event.target.classList.remove('active');
            }
        }

        // 4. Project Idea Logic
        function deleteIdea(id) {
            if(confirm("حذف هذه الفكرة؟")) {
                document.getElementById(id).remove();
            }
        }
    </script>
</body>
</html>